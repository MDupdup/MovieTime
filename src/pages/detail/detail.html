<!--
  Generated template for the DetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title>Détail du film</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding class="has-header">
    <!-- Infos -->
    <div *ngIf="searching">
        <p text-center>Recherche en cours ...</p>
    </div>

    <div *ngIf="!movie && !searching">
        <p text-center> Le film n'a pas été trouvé...</p>
    </div>

    <!-- Content -->
    <ion-card *ngIf="movie">
        <div item-start>
            <img src="https://image.tmdb.org/t/p/w600_and_h900_bestv2{{movie.getPosterPath()}}">
            <!-- <ion-spinner></ion-spinner> -->
            <button class="fav-button" ion-button round (click)="addToFavorites(movie)">
                <ion-icon name="star"></ion-icon>
            </button>
        </div>
        <ion-card-content>
            <ion-card-title>
                {{movie.getTitle()}}
                <ion-badge color="light"><span [ngClass]="{'good': movie.getVoteAvg() > 7, 'average': movie.getVoteAvg() >= 3.5 && movie.getVoteAvg() <= 7, 'bad': movie.getVoteAvg() < 3.5}">{{movie.getVoteAvg()}}/10</span></ion-badge>
            </ion-card-title>
            <span *ngFor="let genre of movie.getGenre()">
                <ion-badge color="primary">{{genre.name}}</ion-badge>
            </span>
            <br>

            <ion-badge color="danger">{{movie.getReleaseDate()}}</ion-badge>
            <ion-badge color="danger">{{movie.getRuntime()}}</ion-badge>
            <br>
            <br>
            <h2>Synopsis : </h2>
            <p>
                {{movie.getOverview()}}
            </p>
            <div class="qr-container">
                <qrcode qrdata="{{movie.getId()}}" [size]="128" [level]="'M'"></qrcode>
            </div>

        </ion-card-content>
    </ion-card>

</ion-content>